(function(t){function e(e){for(var n,s,r=e[0],c=e[1],l=e[2],d=0,m=[];d<r.length;d++)s=r[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&m.push(a[s][0]),a[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(m.length)m.shift()();return o.push.apply(o,l||[]),i()}function i(){for(var t,e=0;e<o.length;e++){for(var i=o[e],n=!0,r=1;r<i.length;r++){var c=i[r];0!==a[c]&&(n=!1)}n&&(o.splice(e--,1),t=s(s.s=i[0]))}return t}var n={},a={app:0},o=[];function s(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=n,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/gpx/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;o.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("cd49")},"0133":function(t,e,i){"use strict";var n=i("afd8"),a=i.n(n);a.a},"034f":function(t,e,i){"use strict";var n=i("85ec"),a=i.n(n);a.a},"07fc":function(t,e,i){"use strict";var n=i("68f1"),a=i.n(n);a.a},1:function(t,e){},2:function(t,e){},2685:function(t,e,i){"use strict";var n=i("bcca"),a=i.n(n);a.a},5490:function(t,e,i){"use strict";var n=i("a6b6"),a=i.n(n);a.a},"68f1":function(t,e,i){},"85ec":function(t,e,i){},a6b6:function(t,e,i){},afd8:function(t,e,i){},bcca:function(t,e,i){},cd49:function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("Map",{staticClass:"map"})],1)},o=[],s=i("d4ec"),r=i("bee2"),c=i("99de"),l=i("7e84"),u=i("262e"),d=i("9ab4"),m=i("60a3"),h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"map outer"},[i("div",{staticClass:"map-content",attrs:{id:"map"}}),i("Info",{staticClass:"info-content",attrs:{message:t.infoText,currentTrackIndex:t.currentTrackIndex,currentSegmentIndex:t.currentSegmentIndex},on:{"size-to-bounds":function(e){return t.sizeToBounds(e)},"add-rectangle":function(e){return t.addRectangle(e)},"goto-location":function(e){return t.gotoLocation(e)},"select-track-index":function(e){return t.selectTrackIndex(e)},"select-segment-time":function(e){return t.selectSegmentByTime(e)},"select-waypoint-time":function(e){return t.selectWaypointTime(e)},"toggle-visibility":function(e){return t.toggleVisibility(e)}}})],1)},p=[],f=(i("99af"),i("4de4"),i("d81d"),i("fb6a"),i("b0c0"),i("4ec9"),i("d3b7"),i("25f0"),i("6062"),i("3ca3"),i("159b"),i("ddb0"),i("ade3")),g=i("2909"),v=i("e11e"),y=i.n(v),b=(i("a4d3"),i("e01a"),i("d28b"),i("a15b"),i("4d90"),i("1315")),k=function(){function t(){Object(s["a"])(this,t)}return Object(r["a"])(t,[{key:"nowWithMsecs",value:function(){return b["DateTime"].local().toFormat("HH:mm:ss.SSS")}},{key:"durationAsSeconds",value:function(t,e){return Math.round((e.getTime()-t.getTime())/1e3)}},{key:"secondsInSegment",value:function(t){var e=t.points[0],i=t.points.slice(-1)[0];return this.durationAsSeconds(e.timestamp,i.timestamp)}},{key:"formatDuration",value:function(t){var e="h:mm:ss";return 0==t.hours&&(e="m:ss"),t.toFormat(e)}},{key:"secondsToDuration",value:function(t){return t<3600&&"m:ss",this.formatDuration(b["Duration"].fromMillis(1e3*t))}},{key:"durationGpx",value:function(t){return this.duration(t.startDate,t.endDate)}},{key:"durationPoints",value:function(t,e){return this.duration(t.timestamp,e.timestamp)}},{key:"duration",value:function(t,e){var i=b["DateTime"].fromISO(e.toISOString()),n=b["DateTime"].fromISO(t.toISOString());return this.formatDuration(i.diff(n,["hours","minutes","seconds"]))}},{key:"distance",value:function(t){return this.milesString(1e3*t.meters)}},{key:"yardsString",value:function(t){return this.milesString(t/1e3)}},{key:"distanceMeters",value:function(t){return this.distanceKilometers(t/1e3)}},{key:"distanceKilometers",value:function(t){return t<.001?"".concat(Math.round(1e3*t*100)/100," meters"):t<1?"".concat(t<.01?Math.round(1e3*t*10)/10:Math.round(1e3*t)," meters"):"".concat(Math.round(100*t)/100," km")}},{key:"milesString",value:function(e){var i=e*t.kilometersPerMile;return i<1e-5?"-":i<.0017?"".concat(Math.round(i*t.feetPerMile)," feet"):i<1?"".concat(i<.01?Math.round(i*t.yardsPerMile*10)/10:Math.round(i*t.yardsPerMile)," yards"):"".concat(Math.round(100*i)/100," miles")}},{key:"pad",value:function(t,e){return t.toString().padStart(e,"0")}},{key:"speedMs",value:function(t,e){if(e<.1)return"- m/s";var i=t/e;return"".concat(Math.round(100*i)/100," m/s")}},{key:"speedMph",value:function(e,i){if(e<1e-5||i<1e-5)return"-";var n=i*t.kilometersPerMile,a=n/(e/3600);return"".concat(Math.round(10*a)/10," mph")}},{key:"dayOfWeek",value:function(t,e){return this.dateTime(t,e).weekdayLong}},{key:"date",value:function(t,e){return this.dateTime(t,e).toLocaleString({locale:"en-US"})}},{key:"timeWithSeconds",value:function(t,e){return this.dateTime(t,e).toFormat("HH:mm.ss")}},{key:"shortTime",value:function(t,e){return this.dateTime(t,e).toFormat("HH:mmÂ a")}},{key:"shortTimezoneName",value:function(t){return b["DateTime"].utc().setZone(t).offsetNameShort}},{key:"dateTime",value:function(t,e){var i;return i=t instanceof Date?t.toISOString():t.toString(),b["DateTime"].fromISO(i,{zone:e})}},{key:"join",value:function(t){return t.join(", ")}},{key:"firstFew",value:function(t){if(!t)return"";var e=t.slice(0,2).join(", ");return t.length>2&&(e+=", ..."),e}}]),t}();k.kilometersPerMile=.62137,k.yardsPerMile=1760,k.feetPerMile=5280;var S=new k,T=function(){function t(){Object(s["a"])(this,t)}return Object(r["a"])(t,null,[{key:"normalizeDegrees",value:function(t){return t>=0&&t<=360?t:t>360?t-360:t<0?t+360:t}},{key:"distanceGpx",value:function(t,e){return this.distanceLL(t.latitude,t.longitude,e.latitude,e.longitude)}},{key:"distanceSegment",value:function(t,e){for(var i=0,n=1;n<t.points.length&&t.points[n].timestamp<=e.timestamp;++n)i+=this.distanceGpx(t.points[n-1],t.points[n]);return i}},{key:"distanceLL",value:function(t,e,i,n){var a=this.toRad(i-t),o=this.toRad(n-e),s=this.toRad(t),r=this.toRad(i),c=Math.sin(a/2)*Math.sin(a/2)+Math.sin(o/2)*Math.sin(o/2)*Math.cos(s)*Math.cos(r),l=2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c));return this.earthRadiusMeters*l}},{key:"toRad",value:function(t){return t*Math.PI/180}},{key:"toDegrees",value:function(t){return 180*t/Math.PI}},{key:"bearing",value:function(e,i,n,a){var o=t.toRad(e),s=t.toRad(i),r=t.toRad(n),c=t.toRad(a),l=Math.sin(c-s)*Math.cos(r),u=Math.cos(o)*Math.sin(r)-Math.sin(o)*Math.cos(r)*Math.cos(c-s),d=t.toDegrees(Math.atan2(l,u));return Math.floor((d+360)%360)}},{key:"pointAlongBearing",value:function(t,e,i,n){var a=this.toRad(i),o=n/this.earthRadiusMeters,s=this.toRad(t),r=this.toRad(e),c=Math.sin(s)*Math.cos(o)+Math.cos(s)*Math.sin(o)*Math.cos(a),l=Math.asin(c),u=Math.sin(a)*Math.sin(o)*Math.cos(s),d=Math.cos(o)-Math.sin(s)*c,m=r+Math.atan2(u,d);return{lat:this.toDegrees(l),lon:this.toDegrees(m)}}},{key:"nearestPoint",value:function(e,i,n){var a=this,o=e[0],s=o,r=this.distanceLL(o.latitude,o.longitude,i,n),c=0,l={latitude:i,longitude:n,timestamp:new Date,calculatedMeters:0};e.forEach((function(i,n){var u=i;n>0&&(c+=a.distanceGpx(e[n],i),u=e[n-1]);var d=t.distanceGpx(i,l);d<r&&(r=d,o=i,s=u)}));var u=S.duration(e[0].timestamp,o.timestamp),d=S.distanceMeters(c);return{point:o,prevPoint:s,distance:d,duration:u}}},{key:"earthRadiusMeters",get:function(){return 6372800}}]),t}(),x=i("083c"),L=i("e002"),w=i.n(L),O=function(){function t(){Object(s["a"])(this,t)}return Object(r["a"])(t,null,[{key:"fromGpx",value:function(t){try{return w()(t.latitude,t.longitude)}catch(e){return""}}}]),t}(),M=function(){function t(){Object(s["a"])(this,t),this.minLat=0,this.maxLat=0,this.minLon=0,this.maxLon=0}return Object(r["a"])(t,[{key:"parse",value:function(t,e){var i=this;return new Promise((function(n,a){x["parseString"](e,{explicitArray:!1},(function(e,o){e&&a(e);var s=[];if(Array.isArray(o.gpx.trk)){var r=!0,c=!1,l=void 0;try{for(var u,d=o.gpx.trk[Symbol.iterator]();!(r=(u=d.next()).done);r=!0){var m=u.value;s.push(i.processTrack(m))}}catch(L){c=!0,l=L}finally{try{r||null==d.return||d.return()}finally{if(c)throw l}}}else s.push(i.processTrack(o.gpx.trk));var h=s[0].segments[0].timezoneName,p=[];if(Array.isArray(o.gpx.wpt)){var f=!0,g=!1,v=void 0;try{for(var y,b=o.gpx.wpt[Symbol.iterator]();!(f=(y=b.next()).done);f=!0){var k=y.value;p.push(i.processWaypoint(k,h))}}catch(L){g=!0,v=L}finally{try{f||null==b.return||b.return()}finally{if(g)throw v}}}else o.gpx.wpt&&p.push(i.processWaypoint(o.gpx.wpt,h));var S={maxLat:i.maxLat,minLat:i.minLat,maxLon:i.maxLon,minLon:i.minLon},T=s[0].segments[0].points[0].timestamp,x=s.slice(-1)[0].segments.slice(-1)[0].points.slice(-1)[0].timestamp;n({waypoints:p,tracks:s,bounds:S,name:t,startDate:T,endDate:x,meters:s.map((function(t){return t.meters})).reduce((function(t,e){return t+e})),timezoneName:h})}))}))}},{key:"processWaypoint",value:function(t,e){var i={latitude:t.$.lat,longitude:t.$.lon,timestamp:new Date(t.time),name:t.name,visible:!0,timezoneName:e};if(t.extensions&&t.extensions.rangic){var n=t.extensions.rangic;i.rangic={stopType:n.$.stopType,beginLatitude:n.begin.$.lat,beginLongitude:n.begin.$.lon,beginTime:new Date(n.begin.$.time),finishLatitude:n.finish.$.lat,finishLongitude:n.finish.$.lon,finishTime:new Date(n.finish.$.time)}}return i}},{key:"processTrack",value:function(t){var e=[];if(Array.isArray(t.trkseg)){var i=!0,n=!1,a=void 0;try{for(var o,s=t.trkseg[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var r=o.value;e=e.concat(this.processSegment(r))}}catch(c){n=!0,a=c}finally{try{i||null==s.return||s.return()}finally{if(n)throw a}}}else e=e.concat(this.processSegment(t.trkseg));return{segments:e,meters:e.map((function(t){return t.meters})).reduce((function(t,e){return t+e}))}}},{key:"processSegment",value:function(t){var e=[],i=[],n=0,a=null;if(Array.isArray(t.trkpt)){var o=!0,s=!1,r=void 0;try{for(var c,l=t.trkpt[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var u=c.value,d={latitude:u.$.lat,longitude:u.$.lon,timestamp:new Date(u.time),calculatedMeters:0};if(0===this.minLat?(this.minLat=d.latitude,this.maxLat=d.latitude,this.minLon=d.longitude,this.maxLon=d.longitude):(this.minLat=Math.min(d.latitude,this.minLat),this.maxLat=Math.max(d.latitude,this.maxLat),this.minLon=Math.min(d.longitude,this.minLon),this.maxLon=Math.max(d.longitude,this.maxLon)),a){var m=(d.timestamp.getTime()-a.timestamp.getTime())/1e3;if(m>30){if(i.length>1){var h=O.fromGpx(i[0]);e.push({points:i,meters:n,timezoneName:h,bearing:-1,visible:!0}),n=0}i=[]}else{var p=T.distanceGpx(a,d);d.calculatedMeters=p,n+=p}}i.push(d),a=d}}catch(k){s=!0,r=k}finally{try{o||null==l.return||l.return()}finally{if(s)throw r}}}else{var f=this.processPoint(t.trkpt);0===this.minLat&&(this.minLat=f.latitude,this.maxLat=f.latitude,this.minLon=f.longitude,this.maxLon=f.longitude),i.push(f)}if(i.length>0){var g=i[0],v=i.slice(-1)[0],y=T.bearing(g.latitude,g.longitude,v.latitude,v.longitude),b=O.fromGpx(i[0]);e.push({points:i,meters:n,timezoneName:b,bearing:y,visible:!0})}return e}},{key:"processPoint",value:function(t){return{latitude:t.$.lat,longitude:t.$.lon,timestamp:new Date(t.time),calculatedMeters:0}}}],[{key:"isFile",value:function(t){return void 0!==t.tracks}},{key:"isSegment",value:function(t){return void 0!==t.points}},{key:"isWaypoint",value:function(t){return void 0!==t.name}},{key:"segmentBounds",value:function(t){var e=t.points[0].latitude,i=t.points[0].longitude,n=e,a=i,o=!0,s=!1,r=void 0;try{for(var c,l=t.points[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var u=c.value;e=Math.min(e,u.latitude),i=Math.min(i,u.longitude),n=Math.max(n,u.latitude),a=Math.max(a,u.longitude)}}catch(d){s=!0,r=d}finally{try{o||null==l.return||l.return()}finally{if(s)throw r}}return{minLat:e,minLon:i,maxLat:n,maxLon:a}}}]),t}(),C=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"block"},[t.isLoading?i("div",{staticClass:"modal-background is-full-page",staticStyle:{"z-index":"1001"}},[t._m(0)]):t._e(),t.hasErrorMessage?i("b-notification",{attrs:{type:"is-danger",active:t.hasErrorMessage,"has-icon":"","aria-close-label":"Close notification",role:"alert"},on:{"update:active":function(e){t.hasErrorMessage=e}}},[t._v(" "+t._s(t.errorMessage)+" ")]):t._e(),i("b-collapse",{staticClass:"panel",attrs:{open:t.isOpen,"aria-id":"content-id"},on:{"update:open":function(e){t.isOpen=e}}},[i("div",{staticClass:"panel-heading no-border no-background-color has-text-white",attrs:{slot:"trigger",role:"button","aria-controls":"content-id"},slot:"trigger"},[i("b-icon",{staticClass:"left-padding align-items-inherit",attrs:{icon:t.isOpen?"caret-down":"caret-up"}}),i("span",{staticClass:"left-padding is-size-4"},[t._v(" "+t._s(t.headerText)+" ")]),i("b-dropdown",{staticClass:"is-pulled-right above-map margin-left",attrs:{hoverable:"",position:"is-top-left","aria-role":"list"}},[i("button",{staticClass:"button is-info",attrs:{slot:"trigger"},slot:"trigger"},[i("b-icon",{attrs:{icon:"bars"}})],1),i("b-dropdown-item",{attrs:{"aria-role":"list-item"},on:{click:t.addTrack}},[t._v("Add a track ")]),i("b-dropdown-item",{attrs:{"aria-role":"list-item"},on:{click:function(e){t.isGotoLocationActive=!0}}},[t._v("Go to lat/lon ")]),i("b-dropdown-item",{attrs:{"aria-role":"list-item"},on:{click:function(e){t.isAddSquareActive=!0}}},[t._v("Add a square ")])],1),i("b-button",{staticClass:"is-pulled-right",attrs:{"icon-left":"route",type:"is-success"},on:{click:t.addTrack}},[t._v("Add a track")])],1),t.activeTracks>0?i("div",{staticClass:"track-container"},[i("b-tabs",{attrs:{type:"is-boxed",vertical:""},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[i("b-tab-item",{attrs:{icon:"info"}},[i("div",{staticClass:"info-text-content is-size-5"},[i("div",[t._v(" "+t._s(t.infoFiles)+" ")]),i("div",[t._v(" "+t._s(t.infoDateAndTime)+" ")]),i("div",[t._v(" "+t._s(t.infoDistance)+" ")]),i("div",[t._v(" "+t._s(t.infoDuration)+" ")])])]),i("b-tab-item",{attrs:{icon:"route"}},[i("b-table",{attrs:{data:t.gpxStore.files,selected:t.selectedTrack},on:{"update:selected":function(e){t.selectedTrack=e}},scopedSlots:t._u([{key:"default",fn:function(e){return[i("b-table-column",{attrs:{field:"size",label:"",centered:""}},[i("b-button",{attrs:{"icon-left":"vector-square",size:"is-small"},on:{click:function(i){return t.sizeToBounds(e.row)}}})],1),i("b-table-column",{attrs:{field:"name",label:"Name",centered:""}},[t._v(" "+t._s(e.row.name)+" ")]),i("b-table-column",{attrs:{field:"distance",label:"Distance",centered:""}},[t._v(" "+t._s(t.displayable.yardsString(e.row.meters))+" ")]),i("b-table-column",{attrs:{field:"date",label:"Date",centered:""}},[t._v(" "+t._s(t.displayable.dayOfWeek(e.row.startDate,e.row.timezoneName))+", "+t._s(t.displayable.date(e.row.startDate,e.row.timezoneName))+" ")]),i("b-table-column",{attrs:{field:"start",label:"Start",centered:""}},[t._v(" "+t._s(t.displayable.shortTime(e.row.startDate,e.row.timezoneName))+", "+t._s(t.displayable.shortTimezoneName(e.row.timezoneName))+" ")]),i("b-table-column",{attrs:{field:"end",label:"End",centered:""}},[t._v(" "+t._s(t.displayable.shortTime(e.row.endDate,e.row.timezoneName))+", "+t._s(t.displayable.shortTimezoneName(e.row.timezoneName))+" ")]),i("b-table-column",{attrs:{field:"duration",label:"Duration",centered:""}},[t._v(" "+t._s(t.displayable.durationGpx(e.row))+" ")]),i("b-table-column",{attrs:{field:"remove",label:"",centered:""}},[i("b-button",{attrs:{"icon-left":"trash",type:"is-danger",size:"is-small"},on:{click:function(i){return t.removeTrack(e.row)}}},[t._v("Remove")])],1)]}}],null,!1,1440251221)})],1),i("b-tab-item",{attrs:{icon:"project-diagram"}},[i("b-table",{attrs:{data:t.currentObjects,selected:t.selectedObject},on:{"update:selected":function(e){t.selectedObject=e}},scopedSlots:t._u([{key:"default",fn:function(e){return[i("b-table-column",{attrs:{field:"size",label:"C",centered:""}},[i("b-button",{attrs:{"icon-left":"vector-square",size:"is-small"},on:{click:function(i){return t.sizeToBounds(e.row)}}})],1),i("b-table-column",{attrs:{field:"visible",label:"V",centered:""}},[i("span",{staticClass:"pointer-cursor",on:{click:function(i){return t.toggleVisibility(e.row)}}},[i("b-icon",{attrs:{icon:e.row.visible?"check-square":"square"},on:{click:function(i){return t.toggleVisibility(e.row)}}})],1)]),i("b-table-column",{attrs:{field:"index",label:"Index",centered:""}},[t._v(" "+t._s(e.index+1)+" ")]),i("b-table-column",{attrs:{field:"points",label:"Type",centered:""}},[t._v(" "+t._s(t.getObjectType(e.row))+" ")]),i("b-table-column",{attrs:{field:"start",label:"Times",centered:""}},[t._v(" "+t._s(t.displayable.timeWithSeconds(t.getStartTime(e.row),t.gpxStore.files[t.currentTrackIndex].timezoneName))+" - "+t._s(t.displayable.timeWithSeconds(t.getEndTime(e.row),t.gpxStore.files[t.currentTrackIndex].timezoneName))+" ")]),i("b-table-column",{attrs:{field:"start",label:"Duration",centered:""}},[t._v(" "+t._s(t.displayable.secondsToDuration(t.getSeconds(e.row)))+" ")]),i("b-table-column",{attrs:{field:"meters",label:"Distance",centered:""}},[t._v(" "+t._s(t.displayable.yardsString(t.getDistance(e.row)))+" ")]),i("b-table-column",{attrs:{field:"speed",label:"Speed",centered:""}},[t._v(" "+t._s(t.displayable.speedMph(t.getSeconds(e.row),t.getDistance(e.row)/1e3))+" ")]),i("b-table-column",{attrs:{field:"points",label:" ",centered:""}},[t._v(" "+t._s(t.getExtraInfo(e.row))+" ")])]}}],null,!1,1099893862)})],1)],1)],1):t._e()]),i("b-modal",{staticStyle:{"z-index":"1000"},attrs:{active:t.isAddFileActive,"has-modal-card":"","trap-focus":"",scroll:"keep"},on:{"update:active":function(e){t.isAddFileActive=e}}},[i("div",{staticClass:"card add-file-card"},[i("b-field",[i("b-upload",{attrs:{multiple:"","drag-drop":""},model:{value:t.filesToAdd,callback:function(e){t.filesToAdd=e},expression:"filesToAdd"}},[i("section",{staticClass:"section"},[i("div",{staticClass:"content has-text-centered"},[i("p",[i("b-icon",{attrs:{icon:"upload",size:"is-large"}})],1),i("p",[t._v(" Drop GPX files here or click to select. ")])])])])],1),i("div",{staticClass:"tags add-file-tags"},t._l(t.filesToAdd,(function(e,n){return i("span",{key:n,staticClass:"tag is-primary"},[t._v(" "+t._s(e.name)+" "),i("button",{staticClass:"delete is-small",attrs:{type:"button"},on:{click:function(e){return t.filesToAdd.splice(n,1)}}})])})),0),i("div",[i("b-button",{attrs:{"icon-left":"plus",type:"is-success",disabled:t.filesToAdd.length<1},on:{click:t.addFiles}},[t._v(" Add ")]),i("b-button",{staticClass:"is-pulled-right",attrs:{type:"is-danger"},on:{click:function(e){t.isAddFileActive=!1}}},[t._v(" Cancel ")])],1)],1)]),i("b-modal",{staticStyle:{"z-index":"1000"},attrs:{active:t.isGotoLocationActive,"has-modal-card":"","trap-focus":"",scroll:"keep"},on:{"update:active":function(e){t.isGotoLocationActive=e}}},[i("div",{staticClass:"card goto-location-card"},[i("b-field",{attrs:{label:"Location",message:"lat,lon or Geohash"}},[i("b-input",{model:{value:t.gotoLocationField,callback:function(e){t.gotoLocationField=e},expression:"gotoLocationField"}})],1),i("div",[i("b-button",{attrs:{type:"is-success",disabled:t.gotoLocationField.length<1},on:{click:t.gotoLocation}},[t._v(" Go ")]),i("b-button",{staticClass:"is-pulled-right",attrs:{type:"is-danger"},on:{click:function(e){t.isGotoLocationActive=!1}}},[t._v(" Cancel ")])],1)],1)]),i("b-modal",{staticStyle:{"z-index":"1000"},attrs:{active:t.isAddSquareActive,"has-modal-card":"","trap-focus":"",scroll:"keep"},on:{"update:active":function(e){t.isAddSquareActive=e}}},[i("div",{staticClass:"card goto-location-card"},[i("b-field",{attrs:{label:"Location",message:"lat,lon OR lat,lon;lat,lon"}},[i("b-input",{model:{value:t.gotoLocationField,callback:function(e){t.gotoLocationField=e},expression:"gotoLocationField"}})],1),i("b-field",{attrs:{label:"Width/height (meters)",message:"The width and height, in meters"}},[i("b-input",{model:{value:t.addSquareWidthField,callback:function(e){t.addSquareWidthField=e},expression:"addSquareWidthField"}})],1),i("div",[i("b-button",{attrs:{type:"is-success",disabled:t.gotoLocationField.length<1},on:{click:t.addSquare}},[t._v(" Add ")]),i("b-button",{staticClass:"is-pulled-right",attrs:{type:"is-danger"},on:{click:function(e){t.isAddSquareActive=!1}}},[t._v(" Cancel ")])],1)],1)])],1)},A=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"progress"},[i("p",[t._v(" Loading ... ")]),i("progress",{staticClass:"progress-bar"})])}],_=(i("4e82"),i("a9e3"),i("ac1f"),i("1276"),i("498a"),function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(c["a"])(this,Object(l["a"])(e).apply(this,arguments)),t.hasErrorMessage=!1,t.errorMessage="",t.activeTab=0,t.isOpen=!1,t.isLoading=!1,t.isAddFileActive=!1,t.isGotoLocationActive=!1,t.isAddSquareActive=!1,t.gotoLocationField="",t.addSquareWidthField="",t.filesToAdd=[],t.displayable=S,t.currentObjects=[],t.selectedTrack=Object(),t.selectedObject=Object(),t}return Object(u["a"])(e,t),Object(r["a"])(e,[{key:"mounted",value:function(){this.gpxStore.files.length>0&&(this.isOpen=!0,this.onCurrentTrackChanged())}},{key:"sizeToObject",value:function(t){}},{key:"getObjectType",value:function(t){return M.isSegment(t)?"segment":M.isWaypoint(t)?"waypoint":"?"}},{key:"getSeconds",value:function(t){return M.isSegment(t)?S.secondsInSegment(t):M.isWaypoint(t)?t.rangic?S.durationAsSeconds(t.rangic.beginTime,t.rangic.finishTime):0:-1}},{key:"getDistance",value:function(t){return M.isSegment(t)?t.meters:M.isWaypoint(t)?t.rangic?T.distanceLL(t.rangic.beginLatitude,t.rangic.beginLongitude,t.rangic.finishLatitude,t.rangic.finishLongitude):0:-1}},{key:"getBearing",value:function(t){return M.isSegment(t)?t.bearing:(M.isWaypoint(t),0)}},{key:"getStartTime",value:function(t){return M.isSegment(t)?t.points[0].timestamp:M.isWaypoint(t)?t.timestamp:new Date}},{key:"getEndTime",value:function(t){return M.isSegment(t)?t.points.slice(-1)[0].timestamp:M.isWaypoint(t)?t.rangic?t.rangic.finishTime:t.timestamp:new Date}},{key:"getExtraInfo",value:function(t){return M.isSegment(t)?"".concat(t.points.length," points"):M.isWaypoint(t)?t.rangic?t.rangic.stopType:t.name:""}},{key:"onSelectedTrackChanged",value:function(t,e){var i=this.selectedTrack,n=0,a=!0,o=!1,s=void 0;try{for(var r,c=this.gpxStore.files[Symbol.iterator]();!(a=(r=c.next()).done);a=!0){var l=r.value;if(l.startDate==i.startDate)break;n+=1}}catch(u){o=!0,s=u}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}this.$emit("select-track-index",n)}},{key:"onSelectedObjectChanged",value:function(t,e){var i=new Date;M.isSegment(this.selectedObject)?(i=this.selectedObject.points[0].timestamp,this.$emit("select-segment-time",i.toString())):M.isWaypoint(this.selectedObject)&&(i=this.selectedObject.timestamp,this.$emit("select-waypoint-time",i.toString()))}},{key:"onCurrentTrackChanged",value:function(){var t=this;if(this.currentObjects=[],!(this.currentTrackIndex<0||this.currentTrackIndex>=this.gpxStore.files.length)){var e=[];this.gpxStore.files[this.currentTrackIndex].tracks.forEach((function(t){t.segments.forEach((function(t){e.push(t)}))})),this.gpxStore.files[this.currentTrackIndex].waypoints.forEach((function(t){e.push(t)})),this.currentObjects=e.sort((function(e,i){return t.getStartTime(e).getTime()-t.getStartTime(i).getTime()})),this.currentObjects=e}}},{key:"onCurrentSegmentChanged",value:function(){var t=0,e=!0,i=!1,n=void 0;try{for(var a,o=this.currentObjects[Symbol.iterator]();!(e=(a=o.next()).done);e=!0){var s=a.value;M.isSegment(s)&&t==this.currentSegmentIndex&&(this.selectedObject=this.currentObjects[t])}}catch(r){i=!0,n=r}finally{try{e||null==o.return||o.return()}finally{if(i)throw n}}}},{key:"addSquare",value:function(t){this.isAddSquareActive=!1;var e=this.gotoLocationField.split(",").filter((function(t){return t.trim().length})).map(Number);2==e.length||4==e.length&&this.$emit("add-rectangle",e)}},{key:"gotoLocation",value:function(t){var e=this.gotoLocationField.split(",").filter((function(t){return t.trim().length})).map(Number);2==e.length&&(this.isGotoLocationActive=!1,this.$emit("goto-location",e))}},{key:"addTrack",value:function(t){this.filesToAdd=[],this.isAddFileActive=!0,t&&t.stopPropagation()}},{key:"removeTrack",value:function(t){this.gpxStore.remove(t)}},{key:"sizeToBounds",value:function(t){var e={minLat:0,minLon:0,maxLat:0,maxLon:0};M.isFile(t)?e=t.bounds:M.isSegment(t)?e=M.segmentBounds(t):M.isWaypoint(t)&&(e.minLat=t.latitude,e.minLon=t.longitude,e.maxLat=t.latitude,e.maxLon=t.longitude),this.$emit("size-to-bounds",e)}},{key:"toggleVisibility",value:function(t){var e;t.visible=!t.visible,e=M.isSegment(t)?t.points[0].timestamp:t.timestamp,this.$emit("toggle-visibility",{timestamp:e.toString(),visible:t.visible})}},{key:"addFiles",value:function(){var t=this;this.isAddFileActive=!1,this.isLoading=!0,requestAnimationFrame((function(){requestAnimationFrame((function(){var e=t.filesToAdd.length;t.filesToAdd.forEach((function(i){t.gpxStore.add(i).catch((function(e){t.errorMessage=e.toString(),t.hasErrorMessage=!0})).finally((function(){e-=1,0===e&&(t.isLoading=!1)}))}))}))}))}},{key:"infoFiles",get:function(){return this.activeTracks<1?"":this.gpxStore.files.map((function(t){return t.name})).join(", ")}},{key:"infoDateAndTime",get:function(){if(this.activeTracks<1)return"";var t=this.gpxStore.files[0].startDate,e=this.gpxStore.files[0].endDate,i=this.gpxStore.files[0].timezoneName,n=i;this.gpxStore.files.forEach((function(a){a.startDate<t&&(t=a.startDate,i=a.timezoneName),a.endDate>e&&(e=a.endDate,n=a.timezoneName)}));var a=this.displayable.date(t,i),o=this.displayable.dayOfWeek(t,i),s=this.displayable.date(e,n),r=this.displayable.dayOfWeek(e,n),c=this.displayable.shortTime(t.toISOString(),i),l=this.displayable.shortTime(e.toISOString(),n);return a===s?"".concat(o,", ").concat(a," ").concat(c," - ").concat(l):"".concat(o,", ").concat(a," ").concat(c," - ").concat(r,", ").concat(s," ").concat(l)}},{key:"infoDistance",get:function(){if(this.activeTracks<1)return"";var t=this.gpxStore.files.map((function(t){return t.meters})).reduce((function(t,e){return t+e}));return this.displayable.milesString(t/1e3)}},{key:"infoDuration",get:function(){var t=this;if(this.activeTracks<1)return"";var e=this.gpxStore.files.map((function(e){return t.displayable.durationAsSeconds(e.startDate,e.endDate)})).reduce((function(t,e){return t+e}));return this.displayable.secondsToDuration(e)}},{key:"headerText",get:function(){return this.activeTracks<1?"No tracks available":this.message}},{key:"activeTracks",get:function(){return this.gpxStore.files.length}}]),e}(m["e"]));d["a"]([Object(m["b"])("gpxStore")],_.prototype,"gpxStore",void 0),d["a"]([Object(m["c"])({required:!0})],_.prototype,"message",void 0),d["a"]([Object(m["c"])({required:!0})],_.prototype,"currentTrackIndex",void 0),d["a"]([Object(m["c"])({required:!0})],_.prototype,"currentSegmentIndex",void 0),d["a"]([Object(m["f"])("selectedTrack")],_.prototype,"onSelectedTrackChanged",null),d["a"]([Object(m["f"])("selectedObject")],_.prototype,"onSelectedObjectChanged",null),d["a"]([Object(m["f"])("currentTrackIndex")],_.prototype,"onCurrentTrackChanged",null),d["a"]([Object(m["f"])("currentSegmentIndex")],_.prototype,"onCurrentSegmentChanged",null),_=d["a"]([m["a"]],_);var j=_,P=j,D=(i("07fc"),i("0133"),i("2877")),F=Object(D["a"])(P,C,A,!1,null,"2fff5ddb",null),I=F.exports,z=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(c["a"])(this,Object(l["a"])(e).apply(this,arguments)),t.infoText="",t.defaultInfoText="",t.mapLayersControl=null,t.nameToControlLayer=new Map,t.visibleTracks=new Map,t.displayable=S,t.currentTrackIndex=-1,t.currentSegmentIndex=-1,t.timeToSegment=new Map,t.timeToWaypoint=new Map,t.selectedOptions={},t.defaultWaypointOptions={radius:3.5,weight:1,color:"cyan",fillColor:"cyan",fillOpacity:1},t.noMovementWaypointOptions={radius:8,weight:2,color:"saddlebrown",fillColor:"saddlebrown",fillOpacity:1},t.groupedWaypointOptions={radius:8,weight:4,color:"red",fillColor:"red",fillOpacity:1},t.nextLineOption=0,t.lineOptions=[{color:"#008B8B",weight:5,dashArray:"",opacity:.9},{color:"#6B8E23",weight:5,dashArray:"",opacity:.9},{color:"#CD5C5C",weight:5,dashArray:"",opacity:.9},{color:"#0000FF",weight:5,dashArray:"",opacity:.7},{color:"#663399",weight:5,dashArray:"",opacity:.9},{color:"#FF69B4",weight:5,dashArray:"",opacity:.9},{color:"#00FFFF",weight:5,dashArray:"",opacity:.7},{color:"#00FF7F",weight:5,dashArray:"",opacity:.8},{color:"#DC143C",weight:5,dashArray:"",opacity:.8},{color:"#87CEFA",weight:5,dashArray:"",opacity:.8},{color:"#6A5ACD",weight:5,dashArray:"",opacity:.8},{color:"#FF4500",weight:5,dashArray:"",opacity:.8}],t}return Object(u["a"])(e,t),Object(r["a"])(e,[{key:"mounted",value:function(){this.initializeMap(),this.onTracksChanged()}},{key:"setSelectedMessage",value:function(t){this.infoText=t&&""!==t?t:this.defaultInfoText}},{key:"highlightNearestPoint",value:function(t){var e={color:"black",opacity:.5,radius:3,fill:!0,fillColor:"#40E0D0",fillOpacity:.8};this.highlightedPoint?(this.highlightedPoint.setLatLng([t.latitude,t.longitude]).addTo(this.map),this.highlightedPoint.options=e):this.highlightedPoint=new y.a.Circle([t.latitude,t.longitude],e).addTo(this.map)}},{key:"selectPoint",value:function(t,e,i,n){t&&(t.originalEvent._gpxHandled=!0,t.originalEvent.stopImmediatePropagation());var a={color:"#FF6347",opacity:.5,radius:3,fill:!0,fillColor:"#FF6347",fillOpacity:.8};(this.selectedPath||this.highlightedPoint)&&this.clearSelection(),this.selectedPoint!==i&&(this.clearSelection(),this.selectedPoint=i,this.selectedOptions=n,i.setStyle(a))}},{key:"selectWaypoint",value:function(t,e,i,n){t&&(t.originalEvent._gpxHandled=!0,t.originalEvent.stopImmediatePropagation());var a=S.timeWithSeconds(e.timestamp,e.timezoneName),o="";if(e.rangic){var s=S.timeWithSeconds(e.rangic.finishTime,e.timezoneName),r=S.duration(e.timestamp,e.rangic.finishTime),c=T.distanceLL(e.rangic.beginLatitude,e.rangic.beginLongitude,e.rangic.finishLatitude,e.rangic.finishLongitude),l=S.milesString(c/1e3);o="stop: ".concat(a," - ").concat(s,"; ").concat(e.rangic.stopType,"; ").concat(r,", ").concat(l)}else o="waypoint: ".concat(a,"; ").concat(e.name);(this.selectedPath||this.highlightedPoint)&&this.clearSelection();var u={color:"#0000CD",opacity:.8,radius:15,fill:!0,fillColor:n.fillColor,fillOpacity:1,weight:10};this.selectedPoint!==i&&(this.clearSelection(),this.selectedPoint=i,this.selectedOptions=n,i.setStyle(u),i.setRadius(u.radius)),this.setSelectedMessage(o)}},{key:"selectPath",value:function(t,e,i,n){t&&(t.originalEvent._gpxHandled=!0,t.originalEvent.stopImmediatePropagation()),(this.selectedPoint||this.highlightedPoint)&&this.clearSelection(),e!==this.selectedPath&&(this.clearSelection(),this.selectedPath=e,this.selectedOptions=i,e.setStyle({color:"#0000FF",weight:10,opacity:1})),this.setSelectedMessage(n)}},{key:"clearSelection",value:function(){if(this.highlightedPoint&&(this.highlightedPoint.removeFrom(this.map),this.highlightedPoint=void 0),this.selectedPoint){if(this.selectedPoint.setStyle(this.selectedOptions),this.selectedOptions){var t=this.selectedOptions;this.selectedPoint.setRadius(t.radius)}this.selectedPoint=void 0}this.selectedPath&&(this.selectedPath.setStyle(this.selectedOptions),this.selectedPath=void 0),this.setSelectedMessage("")}},{key:"makeVisible",value:function(t){var e={padding:y.a.point(100,100)};if(M.isSegment(t)){var i=t.points[Math.ceil(t.points.length/2)];this.map.panInside(y.a.latLng(i.latitude,i.longitude),e)}else M.isWaypoint(t)&&this.map.panInside(y.a.latLng(t.latitude,t.longitude),e)}},{key:"sizeToBounds",value:function(t){var e=t;this.map.fitBounds(y.a.latLngBounds([e.minLat,e.minLon],[e.maxLat,e.maxLon]))}},{key:"addRectangle",value:function(t){var e=t,i=y.a.latLngBounds([[Math.min(e[0],e[2]),Math.min(e[1],e[3])],[Math.max(e[0],e[2]),Math.max(e[1],e[3])]]);new y.a.Rectangle(i,{color:"#FF7788",weight:5}).addTo(this.map),this.map.fitBounds(i)}},{key:"gotoLocation",value:function(t){var e=t,i=this.map.getZoom();this.map.setView(y.a.latLng(e[0],e[1]),i)}},{key:"selectTrackIndex",value:function(t){var e=t;this.currentTrackIndex=e,this.currentSegmentIndex=0}},{key:"selectSegmentByTime",value:function(t){var e=t,i=this.timeToSegment.get(e);if(i){this.selectPath(void 0,i.path,i.options,"");var n=this.getSegmentMessage(i.segment);this.setSelectedMessage("".concat(n)),this.makeVisible(i.segment)}}},{key:"selectWaypointTime",value:function(t){var e=t,i=this.timeToWaypoint.get(e);i&&(this.selectWaypoint(void 0,i.waypoint,i.circle,i.options),this.makeVisible(i.waypoint))}},{key:"toggleVisibility",value:function(t){var e=t,i=this.timeToSegment.get(e.timestamp);if(i)e.visible?i.path.addTo(this.map):i.path.removeFrom(this.map);else{var n=this.timeToWaypoint.get(e.timestamp);n&&(e.visible?n.circle.addTo(this.map):n.circle.removeFrom(this.map))}}},{key:"onTracksChanged",value:function(){var t=this,e=this.activeTracks.filter((function(e){return!t.visibleTracks.has(e.name)})),i=new Set(this.activeTracks.map((function(t){return t.name}))),n=Object(g["a"])(this.visibleTracks.keys()),a=n.filter((function(t){return!i.has(t)}));if(a.forEach((function(e){var i=t.visibleTracks.get(e);t.remove(e,i),t.visibleTracks.delete(e)})),e.forEach((function(e){var i=t.add(e);t.visibleTracks.set(e.name,i)})),this.activeTracks.length>0){var o=this.activeTracks.slice(-1)[0];this.defaultInfoText="".concat(S.dayOfWeek(o.startDate,o.timezoneName),", ")+"".concat(S.date(o.startDate,o.timezoneName),"; ")+"".concat(S.milesString(o.meters/1e3),", ")+"".concat(S.durationGpx(o)),(this.currentTrackIndex<0||this.currentTrackIndex>=this.activeTracks.length)&&(this.currentTrackIndex=this.activeTracks.length-1,this.currentSegmentIndex=0)}else this.defaultInfoText="",this.currentTrackIndex=-1,this.currentSegmentIndex=-1;this.setSelectedMessage(this.defaultInfoText)}},{key:"remove",value:function(t,e){this.mapLayersControl&&this.nameToControlLayer.has(t)&&this.mapLayersControl.removeLayer(this.nameToControlLayer.get(t)),e.removeFrom(this.map),this.selectedPoint&&this.selectedPoint.removeFrom(this.map)}},{key:"add",value:function(t){var e=this,i=new y.a.FeatureGroup;return t.waypoints.forEach((function(n,a){e.addWaypoint(i,t,n,a)})),t.tracks.forEach((function(n,a){e.addTrack(i,t,n,a)})),i.addTo(this.map),this.addToMapLayersControl(i,t.name),this.visibleTracks.size<1&&this.map.fitBounds([[t.bounds.minLat,t.bounds.minLon],[t.bounds.maxLat,t.bounds.maxLon]],void 0),i}},{key:"addWaypoint",value:function(t,e,i,n){var a=this,o=this.defaultWaypointOptions;i.rangic&&("noMovement"==i.rangic.stopType&&(o=this.noMovementWaypointOptions),"groupedStops"==i.rangic.stopType&&(o=this.groupedWaypointOptions));var s=new y.a.Circle([i.latitude,i.longitude],o);s.addTo(t),s.on("click",(function(t){var e=s;a.selectWaypoint(t,i,e,o)})),this.timeToWaypoint.set(i.timestamp.toString(),{waypoint:i,circle:s,options:o})}},{key:"addTrack",value:function(t,e,i,n){var a=this;i.segments.forEach((function(i,o){a.addSegment(t,e,n,o,i,a.lineOptions[a.nextLineOption]),++a.nextLineOption,a.nextLineOption>=a.lineOptions.length&&(a.nextLineOption=0)}))}},{key:"addSegment",value:function(t,e,i,n,a,o){var s=this,r=("".concat(e.name,"; track #").concat(i+1,"; segment #").concat(n+1),a.points[0]),c=a.points.slice(-1)[0],l=this.getSegmentMessage(a),u={radius:5,weight:1,color:"#33A532",fillColor:"#33A532",fillOpacity:.8,className:"start-end-marker"},d=new y.a.Circle([a.points[0].latitude,a.points[0].longitude],u);d.on("click",(function(t){S.shortTime(a.points[0].timestamp,a.timezoneName);s.setSelectedMessage("".concat(l,"; start")),s.selectPoint(t,r,d,u)})),u.color="#D70025",u.fillColor="#D70025";var m=new y.a.Circle([a.points.slice(-1)[0].latitude,a.points.slice(-1)[0].longitude],u);m.on("click",(function(t){s.setSelectedMessage("".concat(l,"; end at ").concat(S.timeWithSeconds(c.timestamp,a.timezoneName))),s.selectPoint(t,c,m,u)}));var h=new y.a.LayerGroup,p={radius:.4,weight:.3,color:"#000",fillColor:o.color,fillOpacity:.4};a.points.forEach((function(t,e){var i=new y.a.Circle(new y.a.LatLng(t.latitude,t.longitude),p);i.addTo(h),i.on("click",(function(n){var o=a.points[Math.max(e-1,0)];s.showPointInfo(a,l,t,o),s.selectPoint(n,t,i,u)}))}));var f=!1,g=this.map;g.on("zoomend",(function(e){g.getZoom()>19?f||(f=!0,t.addLayer(h)):f&&(f=!1,t.removeLayer(h))}));var v=a.points.map((function(t){return new y.a.LatLng(t.latitude,t.longitude)})),b=new y.a.Polyline(v,o);b.on("click",(function(t){var e=t,i=T.nearestPoint(a.points,e.latlng.lat,e.latlng.lng);s.selectPath(t,b,o,""),s.showPointInfo(a,l,i.point,i.prevPoint),s.highlightNearestPoint(i.point),s.currentSegmentIndex=n})),b.addTo(t),this.timeToSegment.set(a.points[0].timestamp.toString(),{segment:a,path:b,options:o})}},{key:"getSegmentMessage",value:function(t){var e=t.points[0],i=t.points.slice(-1)[0],n=S.speedMph(S.secondsInSegment(t),t.meters/1e3);return"segment; "+"".concat(S.timeWithSeconds(e.timestamp,t.timezoneName)," - ")+"".concat(S.timeWithSeconds(i.timestamp,t.timezoneName),"; ")+"".concat(S.milesString(t.meters/1e3),", ")+"".concat(n,", ")+"".concat(S.durationPoints(e,i))}},{key:"showPointInfo",value:function(t,e,i,n){var a=S.durationAsSeconds(n.timestamp,i.timestamp),o=i.calculatedMeters,s=S.yardsString(o),r=S.speedMph(a,o/1e3),c=S.timeWithSeconds(i.timestamp,t.timezoneName);this.setSelectedMessage("".concat(e,"; [ ").concat(c,", ").concat(r," (").concat(s,") ]"))}},{key:"addToMapLayersControl",value:function(t,e){null==this.mapLayersControl?this.mapLayersControl=y.a.control.layers(void 0,Object(f["a"])({},e,t),{position:"topright",collapsed:!1}).addTo(this.map):this.mapLayersControl.addOverlay(t,e),this.nameToControlLayer.set(e,t)}},{key:"initializeMap",value:function(){var t=this;this.map||(this.map=y.a.map("map",{center:[20,0],zoom:2,minZoom:2,zoomControl:!1}),y.a.control.zoom({position:"topright"}).addTo(this.map),y.a.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxNativeZoom:19,maxZoom:22,attribution:'&copy; <a href="https://openstreetmap.org">OpenStreetMap</a> contributors'}).addTo(this.map),y.a.control.scale({position:"bottomright",maxWidth:300}).addTo(this.map),this.map.on("click",(function(e){var i=e;i.originalEvent&&i.originalEvent._gpxHandled||t.clearSelection()})))}},{key:"activeTracks",get:function(){return this.gpxStore.files}}]),e}(m["e"]);d["a"]([Object(m["b"])("gpxStore")],z.prototype,"gpxStore",void 0),d["a"]([Object(m["f"])("activeTracks")],z.prototype,"onTracksChanged",null),z=d["a"]([Object(m["a"])({components:{Info:I}})],z);var W=z,E=W,N=(i("5490"),i("2685"),Object(D["a"])(E,h,p,!1,null,"1bdd936e",null)),$=N.exports,q=(i("c975"),function(){function t(){Object(s["a"])(this,t),this.files=[]}return Object(r["a"])(t,[{key:"get",value:function(t){for(var e=0;e<this.files.length;++e)if(this.files[e].name===t)return this.files[e]}},{key:"add",value:function(t){var e=this;return new Promise((function(i,n){var a=new FileReader;a.onloadend=function(t){return function(){var o=a.result;(new M).parse(t.name,o).then((function(t){m["e"].set(e.files,e.files.length,t),i(t)})).catch((function(t){n(t)}))}}(t),a.readAsText(t)}))}},{key:"remove",value:function(t){var e=this.files.indexOf(t);e>=0&&m["e"].delete(this.files,e)}}]),t}()),G=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(c["a"])(this,Object(l["a"])(e).apply(this,arguments)),t.gpxStore=new q,t}return Object(u["a"])(e,t),Object(r["a"])(e,[{key:"mounted",value:function(){var t=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(t,"px")),window.addEventListener("resize",(function(){var t=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(t,"px"))}))}}]),e}(m["e"]);d["a"]([Object(m["d"])("gpxStore")],G.prototype,"gpxStore",void 0),G=d["a"]([Object(m["a"])({components:{Map:$}})],G);var R=G,B=R,H=(i("034f"),Object(D["a"])(B,a,o,!1,null,null,null)),V=H.exports,Z=(i("becf"),i("289d"));i("5abe");n["a"].use(Z["a"],{defaultIconPack:"fas"}),n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(V)}}).$mount("#app")}});